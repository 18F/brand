<div class="usa-matrix">
<svg class="usa-matrix-symbol-definitions">
  <symbol id="usa-matrix-bad-contrast-ratio" viewBox="0 0 100 100">
    <rect width="100" height="100" fill="#f0f0f0"/>
    <line x1="0" y1="100" x2="100" y2="0" stroke="white" stroke-width="4"/>
  </symbol>
</svg>

<div class="usa-matrix-legend">
  <svg><use xlink:href="#usa-matrix-bad-contrast-ratio"/></svg>

  <p class="usa-sr-invisible" aria-hidden="true">
    <strong>Don&rsquo;t</strong> use these color combinations. They don&rsquo;t have enough contrast to meet accessibility standards, and some people will have difficulty reading the text.
  </p>
</div>
{% for background in site.data.palette %}
  <h2>{{ background.name | capitalize }} backgrounds</h2>
  <div class="usa-matrix-row clearfix">
  {% for foreground in site.data.palette %}
  {% assign ratio = foreground.hex | contrast_ratio with: background.hex %}
  {% if foreground != background %}
  <div class="usa-matrix-column">
    <p> <strong>{{foreground.name | capitalize }} text</strong>
      <br>
      <span class="usa-matrix-hexbox usa-matrix-hexbox--{{foreground.name }}">#{{foreground.hex }}</span>
    </p>
    {% if ratio >= 4.5 %}
    <div class="usa-matrix-preview usa-color-{{ background.name }}"
         title="The contrast ratio of {{ foreground.name }} on {{ background.name }} is {{ ratio | human_readable_contrast_ratio }}."
         role="presentation">
      <strong class="usa-matrix-foreground-{{ foreground.name }} usa-sr-invisible" aria-hidden="true">
        Aa
      </strong>
    </div>
    <div class="usa-matrix-preview--text">
      <p><strong>Accessible</strong>, contrast ratio is {{ ratio | human_readable_contrast_ratio }}.</p>
    </div>
  {% else %}
    <svg class="usa-matrix-preview">
      <use xlink:href="#usa-matrix-bad-contrast-ratio"/>
    </svg>
    <div class="usa-matrix-preview--text">
      <p><strong>Not accessible</strong>, contrast ratio is {{ ratio | human_readable_contrast_ratio }}.</p>
    </div>
  {% endif %}
  </div>
  {% endif %}
  {% endfor %}
  </div>
{% endfor %}
</div>
